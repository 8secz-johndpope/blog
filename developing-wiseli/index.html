<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Developing Wiseli | Better world by better software</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="I get asked sometimes to show how I work.  Usually, the process is difficult to describe. While I work, I often do not know if it will  be a success or a failure yet. It is hard to justify spending ho">
<meta name="keywords" content="advice">
<meta property="og:type" content="article">
<meta property="og:title" content="Developing Wiseli">
<meta property="og:url" content="https://glebbahmutov.com/blog/developing-wiseli/index.html">
<meta property="og:site_name" content="Better world by better software">
<meta property="og:description" content="I get asked sometimes to show how I work.  Usually, the process is difficult to describe. While I work, I often do not know if it will  be a success or a failure yet. It is hard to justify spending ho">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://raw.githubusercontent.com/bahmutov/wiseli/master/images/npm-output-at-the-bottom.png">
<meta property="og:image" content="https://raw.githubusercontent.com/bahmutov/wiseli/master/images/npm-and-manpm.png">
<meta property="og:image" content="https://raw.githubusercontent.com/bahmutov/wiseli/master/images/install-and-example.png">
<meta property="og:updated_time" content="2018-02-14T02:33:26.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Developing Wiseli">
<meta name="twitter:description" content="I get asked sometimes to show how I work.  Usually, the process is difficult to describe. While I work, I often do not know if it will  be a success or a failure yet. It is hard to justify spending ho">
<meta name="twitter:image" content="https://raw.githubusercontent.com/bahmutov/wiseli/master/images/npm-output-at-the-bottom.png">
<meta name="twitter:creator" content="@bahmutov">
  
    <link rel="alternative" href="/blog/atom.xml" title="Better world by better software" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="../css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-59999353-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <!-- <div id="banner"></div> -->
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="../index.html" id="logo">Better world by better software</a>
      </h1>
      <!--
      
        <h2 id="subtitle-wrap">
          <a href="../index.html" id="subtitle">Gleb Bahmutov PhD</a>
        </h2>
      
      -->
      <!-- <span class="no-mobile">Software advice from</span> -->
      <h2 id="subtitle-wrap">
        <span class="subtitle">
          <a id="subtitle" href="http://glebbahmutov.com">Gleb Bahmutov PhD</a>
        </span>
      </h2>
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
      </nav>
      <nav id="sub-nav">
        <a id="nav-house-link" class="nav-icon" href="/" title="Home"></a>
        
          <a id="nav-rss-link" class="nav-icon" href="/blog/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://glebbahmutov.com/blog"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-developing-wiseli" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="" class="article-date">
  <time datetime="2016-03-01T05:00:00.000Z" itemprop="datePublished">Mar 1 2016</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="../categories/process/">process</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Developing Wiseli
    </h1>

    <h2 class="article-title" itemprop="name">
      How I came up with idea and how I wrote wiseli
    </h2>

  


      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>I get asked sometimes to show how I work. 
Usually, the process is difficult to describe. While I work, I often do not know if it will 
be a success or a failure yet. It is hard to justify spending hours documenting something
that is not guaranteed to work out.</p>
<p>In this case, I have decided to write notes while I was working on the project.
The project is a fun idea; the result is not very important. 
Even if the result CLI application is a novelty, others might benefit from the process write up.</p>
<h2><span id="the-fun-problem">The fun problem</span></h2><p>Everyone is making jokes how slow NPM install process is. One of the jokes by Sindre
became a start of a discussion seen here <a href="https://twitter.com/sindresorhus/status/702220589419753472" target="_blank" rel="noopener">https://twitter.com/sindresorhus/status/702220589419753472</a></p>
<blockquote>
<p>Idea: <code>npm install</code> wrapper that opens a new gif every 5 sec during install to make it feel faster.</p>
</blockquote>
<p><blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">Idea: <code>npm install</code> wrapper that opens a new gif every 5 sec during install to make it feel faster.</p>&mdash; s̾i̾̾n̾̾̾̾d̾̾̾r̾̾e̾ (@sindresorhus) <a href="https://twitter.com/sindresorhus/status/702220589419753472" target="_blank" rel="noopener">February 23, 2016</a></blockquote></p>
<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>Ok, this might sound like a joke, but one guy implemented it right away. Check out
<a href="https://github.com/vdemedes/gifi" target="_blank" rel="noopener">https://github.com/vdemedes/gifi</a> by Vadim Demedes 
<a href="https://twitter.com/vdemedes" target="_blank" rel="noopener">@vdemedes</a> - who is awesome developer in my opinion. 
It plays GIF loops during the install by opening the gif in the browser. Cool, right?</p>
<h2><span id="got-an-idea">Got an idea</span></h2><p>Yet, I think we can make it a little more useful - I am only partially ok with gifs (or cat pictures).
Think about all the useful things we could do in the terminal while waiting for the NPM install to complete.
For example, we could show a section of the README document that describes how to use the module.
Or show examples.</p>
<p>I already tried displaying a part of the project&#39;s README from the terminal, see 
<a href="https://github.com/bahmutov/manpm" target="_blank" rel="noopener">manpm</a>. It would be great to divide the terminal into two parts, show
the regular <code>npm install</code> in one part, and the &quot;install&quot;, &quot;use&quot; or &quot;example&quot; part of the README in another half.</p>
<p>Another possibility would be to show an terminal screencast movie using <a href="https://asciinema.org/" target="_blank" rel="noopener">asciinema</a> by 
Marcin Kulik <a href="https://twitter.com/sickill" target="_blank" rel="noopener">@sickill</a> - it is tiny, and could be very useful!</p>
<h2><span id="the-implementation">The implementation</span></h2><h3><span id="find-the-right-libraries">Find the right libraries</span></h3><p>Ok, let us see if we can output results from two commands side by side in the terminal. One command
will be the <code>npm install</code> command, while the second one will be a README part. Let us worry about the 
terminal output first. I have heard about a library that implements very convenient user interface on top
of the terminal API (in Node JavaScript) called <a href="https://github.com/chjj/blessed" target="_blank" rel="noopener">blessed</a> and judging by the
projects that use it (like <a href="https://www.npmjs.com/package/overviewer" target="_blank" rel="noopener">overviewer</a>) 
it can easily split the screen into multiple parts, each receiving output from a separate event emitter.
I did not want to go through an intermediate library like <a href="https://www.npmjs.com/package/react-blessed" target="_blank" rel="noopener">react-blessed</a>,
preferring to limit myself to the <code>blessed</code> itself. Luckily the library has lots of examples.</p>
<p>I have read about this library in &quot;Node Weekly&quot; 
<a href="http://nodeweekly.com/issues/97" target="_blank" rel="noopener">email newsletter #97</a> because the newsletters are one
of my main sources of <a href="../javascript-and-angularjs-learning-resources/">JavaScript and development news</a>.</p>
<p>The code to put two horizontal boxes inside the terminal is simple. Here is the code with static text. The bottom
text changes and redraws itself, see <a href="https://github.com/bahmutov/wiseli/blob/master/bak/first.js" target="_blank" rel="noopener">first.js</a> for full source.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> blessed = <span class="built_in">require</span>(<span class="string">'blessed'</span>)</span><br><span class="line"><span class="keyword">const</span> screen = blessed.screen(&#123; ... &#125;)</span><br><span class="line"><span class="keyword">const</span> bottomOutput = blessed.box(&#123;</span><br><span class="line">  content: <span class="string">'bottom output'</span>,</span><br><span class="line">  label: <span class="string">'bottom'</span>,</span><br><span class="line">  left: <span class="number">0</span>,</span><br><span class="line">  top: <span class="string">'50%-1'</span>,</span><br><span class="line">  border: <span class="string">'line'</span>,</span><br><span class="line">  style: &#123;</span><br><span class="line">    width: <span class="string">'100%'</span>,</span><br><span class="line">    height: <span class="string">'50%'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">screen.append(bottomOutput)</span><br><span class="line">screen.render()</span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  bottomOutput.setText(<span class="string">'new bottom text'</span>)</span><br><span class="line">  screen.render()</span><br><span class="line">&#125;, <span class="number">2000</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/bahmutov/wiseli/master/images/npm-output-at-the-bottom.png" alt="NPM command output at the bottom"></p>
<h3><span id="scrollable-text">Scrollable text</span></h3><p>Ok, the static text is simple, but how do we change the contents of the box based on the changing
output of a child process? Luckily, we can easily modify text inside a box as it changes. 
Let us run a command and show its output in a box, and to avoid any Windows problems, let us use
<a href="https://github.com/IndigoUnited/node-cross-spawn-async" target="_blank" rel="noopener">cross platform spawn module</a> right away.
We can use <a href="https://github.com/chjj/blessed#log-from-scrollabletext" target="_blank" rel="noopener">blessed log</a> widget to
add scrollable text to the screen. 
See <a href="https://github.com/bahmutov/wiseli/blob/master/bak/second.js" target="_blank" rel="noopener">second.js</a> for full code.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> spawn = <span class="built_in">require</span>(<span class="string">'cross-spawn-async'</span>)</span><br><span class="line"><span class="keyword">const</span> blessed = <span class="built_in">require</span>(<span class="string">'blessed'</span>)</span><br><span class="line"><span class="keyword">const</span> npmOutput = blessed.log(&#123;</span><br><span class="line">  content: <span class="string">'bottom output'</span>,</span><br><span class="line">  label: <span class="string">'bottom'</span>,</span><br><span class="line">  left: <span class="number">0</span>,</span><br><span class="line">  top: <span class="string">'50%-1'</span>,</span><br><span class="line">  border: <span class="string">'line'</span>,</span><br><span class="line">  keys: <span class="literal">true</span>,</span><br><span class="line">  style: &#123;</span><br><span class="line">    scrollbar: <span class="literal">true</span>,</span><br><span class="line">    width: <span class="string">'100%'</span>,</span><br><span class="line">    height: <span class="string">'50%'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> proc = spawn(<span class="string">'npm'</span>, [<span class="string">'help'</span>])</span><br><span class="line">proc.stdout.on(<span class="string">'data'</span>, (data) =&gt; &#123;</span><br><span class="line">  npmOutput.add(data.toString())</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>Now we have simple NPM output and it is even scrollable! </p>
<h3><span id="making-output-useful">Making output useful</span></h3><p>Let us add the output of manpm command (like hardcoded <code>manpm obind example</code>) and allocate more space to the
example, rather than the NPM output. Full code is in <a href="third.js">third.js</a>, here is the important part (and it mimics)
very much the way we implemented NPM handling.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> manpmOutput = blessed.log(&#123;</span><br><span class="line">  label: <span class="string">'manpm output (scrollable)'</span>,</span><br><span class="line">  left: <span class="number">0</span>,</span><br><span class="line">  top: <span class="string">'25%-1'</span>,</span><br><span class="line">  border: <span class="string">'line'</span>,</span><br><span class="line">  keys: <span class="literal">true</span>,</span><br><span class="line">  style: &#123;</span><br><span class="line">    width: <span class="string">'100%'</span>,</span><br><span class="line">    height: <span class="string">'75%'</span>,</span><br><span class="line">    border: &#123;</span><br><span class="line">      fg: <span class="string">'#f0f0f0'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> proc = spawn(<span class="string">'manpm'</span>, [<span class="string">'obind'</span>, <span class="string">'example'</span>])</span><br><span class="line">proc.stdout.on(<span class="string">'data'</span>, (data) =&gt; &#123;</span><br><span class="line">  manpmOutput.add(data.toString())</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>A good feature of <code>manpm</code> - if a section with the exact text match is not found, 
the entire README text will be searched. If nothing matches, the README is displayed.</p>
<p><img src="https://raw.githubusercontent.com/bahmutov/wiseli/master/images/npm-and-manpm.png" alt="two outputs"></p>
<h3><span id="finishing-the-cli-tool">Finishing the CLI tool</span></h3><p>All we need now is CLI parsing and we have ourselves a tool. 
There are lots of CLI parsers, but in this case
we can just find the argument that is not one of the <code>install|i|--save|--save-dev|-S|-D</code> keywords.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findModuleToInstall</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> found</span><br><span class="line">  process.argv.slice(<span class="number">2</span>).forEach(<span class="function"><span class="keyword">function</span> (<span class="params">arg</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (arg !== <span class="string">'i'</span> &amp;&amp;</span><br><span class="line">      arg !== <span class="string">'install'</span> &amp;&amp;</span><br><span class="line">      arg !== <span class="string">'--save'</span> &amp;&amp;</span><br><span class="line">      arg !== <span class="string">'--save-dev'</span> &amp;&amp;</span><br><span class="line">      arg !== <span class="string">'-S'</span> &amp;&amp;</span><br><span class="line">      arg !== <span class="string">'-D'</span>) &#123;</span><br><span class="line">      found = arg</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> found</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> name = findModuleToInstall()</span><br><span class="line"><span class="keyword">if</span> (!name) &#123;</span><br><span class="line">  <span class="built_in">console</span>.error(<span class="string">'&lt;wiseli&gt; &lt;module name&gt; [--save|--save-dev]'</span>)</span><br><span class="line">  process.exit(<span class="number">-1</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Once we find the module, just pass all arguments to the <code>NPM install</code>, and just the name to <code>manpm</code>.
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> proc = spawn(<span class="string">'npm'</span>, [<span class="string">'install'</span>].concat(process.argv.slice(<span class="number">2</span>)))</span><br><span class="line">proc.stdout.on(<span class="string">'data'</span>, (data) =&gt; &#123;</span><br><span class="line">  npmOutput.add(data.toString())</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p>A little bit of styling, and the tool is ready. 
After a little bit of searching for available NPM name 
(use <a href="https://github.com/IonicaBizau/namly" target="_blank" rel="noopener">namely</a> to find available variants) 
I settled on &quot;wiseli&quot;, formed by combining the expression &quot;use time wisely&quot; and the verb &quot;install&quot;.</p>
<p>See the finished project at <a href="https://github.com/bahmutov/wiseli" target="_blank" rel="noopener">wiseli</a></p>
<pre><code>npm install -g wiseli
wiseli install chalk
</code></pre><p><img src="https://raw.githubusercontent.com/bahmutov/wiseli/master/images/install-and-example.png" alt="install chalk"></p>
<p>Nice, now I can try using the tool myself to find any problems or usability issues. I should
also go through the <a href="https://github.com/bahmutov/npm-module-checklist" target="_blank" rel="noopener">NPM checklist</a> to clean
up the loose ends.</p>
<h2><span id="conclusions">Conclusions</span></h2><p>Main ideas that helped me in this particular project</p>
<ul>
<li>Twitter was an inspiration for the idea</li>
<li>I connected several projects together, without writing everything from scratch</li>
<li>I was aware of the libraries, even if I have never used them before</li>
</ul>
<p>These 3 bullet points fit nicely to what I have written earlier about 
<a href="https://glebbahmutov.com/blog/better-hacker/">becoming a better hacker</a>.</p>

      
    </div>

    
      <footer class="article-footer personal-links">
  Follow Gleb Bahmutov <a href="https://twitter.com/bahmutov">@bahmutov</a>,
  see his projects at <a href="http://glebbahmutov.com">glebbahmutov.com</a>
</footer>
<script src="https://rawgit.com/toddmotto/linkjuice/702066a37124081e7ad1a972844a9a91115be05a/dist/linkjuice.js"></script>
<script>
function contentFn (node, icon) {
  const s = '<a href="#' + node.id + '" class="linkjuice">' +
    node.innerHTML + ' ' + icon + '</a>\n'
  return s
}
linkjuice.init('.article-entry', {
  selectors: ['h2 span'],
  icon: '<span class="link-symbol">#</span>',
  contentFn: contentFn
});
</script>

    

    <footer class="article-footer">
      <a data-url="https://glebbahmutov.com/blog/developing-wiseli/" data-id="cjke46bqr009jyjoo70cwa94x" class="article-share-link">Share</a>
      
        <a href="https://glebbahmutov.com/blog/developing-wiseli/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/advice/">advice</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="../how-to-crash/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          How to crash
        
      </div>
    </a>
  
  
    <a href="../testing-reactive-code/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Testing reactive code</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

</section>
        
          <aside id="sidebar">
  
    <style>
#carbonads {
  display: block;
  overflow: hidden;
  font-size: 11px;
  font-family: Verdana, "Helvetica Neue", Helvetica, sans-serif;
  line-height: 1.5;
}

#carbonads a {
  color: #258fb8;
  text-decoration: none;
}

#carbonads a:hover {
  text-decoration: underline;
}

#carbonads span {
  position: relative;
  display: block;
  overflow: hidden;
}

.carbon-img {
  float: left;
  margin-right: 1em;
}

.carbon-img img { display: block; }

.carbon-text {
  display: block;
  float: left;
  text-align: left;
  margin-top: 0.5em;
}
@media screen and (min-width: 1024px) {
  .carbon-text {
    max-width: calc(100% - 130px - 1em);
  }
}

.carbon-poweredby {
  /*position: absolute;
  right: 0;
  bottom: 0;*/
  float: right;
  display: block;
  font-size: 11px;
}
</style>
<div class="widget-wrap">
  <div class="widget-title">&nbsp;</div>
  <div class="widget">
    <!-- Carbon Ads -->
    <script async type="text/javascript"
      src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=glebbahmutovcom"
      id="_carbonads_js"></script>
  </div>
</div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="../categories/book-review/">book review</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/people/">people</a><span class="category-list-count">17</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/process/">process</a><span class="category-list-count">102</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/products/">products</a><span class="category-list-count">287</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="../tags/QUnit/">QUnit</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/advice/">advice</a><span class="tag-list-count">98</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/angularjs/">angularjs</a><span class="tag-list-count">58</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/angularjs2/">angularjs2</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/assertions/">assertions</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ast/">ast</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/boilerplate/">boilerplate</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/browser/">browser</a><span class="tag-list-count">18</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ci/">ci</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/concurrency/">concurrency</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/cyclejs/">cyclejs</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/cypress/">cypress</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/d3/">d3</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/db/">db</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/docker/">docker</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/es6/">es6</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/es7/">es7</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/functional/">functional</a><span class="tag-list-count">67</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/generators/">generators</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/git/">git</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/graphql/">graphql</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/grunt/">grunt</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/gulp/">gulp</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/hyperapp/">hyperapp</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/immutable/">immutable</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/interview/">interview</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/jade/">jade</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/javascript/">javascript</a><span class="tag-list-count">160</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/jshint/">jshint</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/modular-development/">modular development</a><span class="tag-list-count">27</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/nodejs/">nodejs</a><span class="tag-list-count">72</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/performance/">performance</a><span class="tag-list-count">17</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/presentation/">presentation</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/promises/">promises</a><span class="tag-list-count">31</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/proposal/">proposal</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ramda/">ramda</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/reactive/">reactive</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/reactjs/">reactjs</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/screencast/">screencast</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/security/">security</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/sentry/">sentry</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/service-workers/">service workers</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/testing/">testing</a><span class="tag-list-count">73</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/tutorial/">tutorial</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/typescript/">typescript</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ui/">ui</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/vuejs/">vuejs</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/web-workers/">web workers</a><span class="tag-list-count">6</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="../tags/QUnit/" style="font-size: 11.67px;">QUnit</a> <a href="../tags/advice/" style="font-size: 19.58px;">advice</a> <a href="../tags/angularjs/" style="font-size: 17.92px;">angularjs</a> <a href="../tags/angularjs2/" style="font-size: 10px;">angularjs2</a> <a href="../tags/assertions/" style="font-size: 13.33px;">assertions</a> <a href="../tags/ast/" style="font-size: 12.92px;">ast</a> <a href="../tags/boilerplate/" style="font-size: 15.42px;">boilerplate</a> <a href="../tags/browser/" style="font-size: 16.67px;">browser</a> <a href="../tags/ci/" style="font-size: 12.92px;">ci</a> <a href="../tags/concurrency/" style="font-size: 10px;">concurrency</a> <a href="../tags/cyclejs/" style="font-size: 12.5px;">cyclejs</a> <a href="../tags/cypress/" style="font-size: 15.83px;">cypress</a> <a href="../tags/d3/" style="font-size: 10.83px;">d3</a> <a href="../tags/db/" style="font-size: 14.17px;">db</a> <a href="../tags/docker/" style="font-size: 13.75px;">docker</a> <a href="../tags/es6/" style="font-size: 15px;">es6</a> <a href="../tags/es7/" style="font-size: 10px;">es7</a> <a href="../tags/functional/" style="font-size: 18.33px;">functional</a> <a href="../tags/generators/" style="font-size: 11.67px;">generators</a> <a href="../tags/git/" style="font-size: 14.17px;">git</a> <a href="../tags/graphql/" style="font-size: 10px;">graphql</a> <a href="../tags/grunt/" style="font-size: 12.5px;">grunt</a> <a href="../tags/gulp/" style="font-size: 10.83px;">gulp</a> <a href="../tags/hyperapp/" style="font-size: 12.08px;">hyperapp</a> <a href="../tags/immutable/" style="font-size: 11.67px;">immutable</a> <a href="../tags/interview/" style="font-size: 10.83px;">interview</a> <a href="../tags/jade/" style="font-size: 11.25px;">jade</a> <a href="../tags/javascript/" style="font-size: 20px;">javascript</a> <a href="../tags/jshint/" style="font-size: 10.83px;">jshint</a> <a href="../tags/modular-development/" style="font-size: 17.08px;">modular development</a> <a href="../tags/nodejs/" style="font-size: 18.75px;">nodejs</a> <a href="../tags/performance/" style="font-size: 16.25px;">performance</a> <a href="../tags/presentation/" style="font-size: 11.25px;">presentation</a> <a href="../tags/promises/" style="font-size: 17.5px;">promises</a> <a href="../tags/proposal/" style="font-size: 10.42px;">proposal</a> <a href="../tags/ramda/" style="font-size: 10px;">ramda</a> <a href="../tags/reactive/" style="font-size: 14.58px;">reactive</a> <a href="../tags/reactjs/" style="font-size: 10.42px;">reactjs</a> <a href="../tags/screencast/" style="font-size: 10px;">screencast</a> <a href="../tags/security/" style="font-size: 12.5px;">security</a> <a href="../tags/sentry/" style="font-size: 13.75px;">sentry</a> <a href="../tags/service-workers/" style="font-size: 12.08px;">service workers</a> <a href="../tags/testing/" style="font-size: 19.17px;">testing</a> <a href="../tags/tutorial/" style="font-size: 13.75px;">tutorial</a> <a href="../tags/typescript/" style="font-size: 10.42px;">typescript</a> <a href="../tags/ui/" style="font-size: 10.42px;">ui</a> <a href="../tags/vuejs/" style="font-size: 11.25px;">vuejs</a> <a href="../tags/web-workers/" style="font-size: 12.08px;">web workers</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/08/">August 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/06/">June 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/04/">April 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/03/">March 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/02/">February 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/01/">January 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/12/">December 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/11/">November 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/09/">September 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/08/">August 2017</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/07/">July 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/06/">June 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/05/">May 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/04/">April 2017</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/03/">March 2017</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/02/">February 2017</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/01/">January 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/12/">December 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/11/">November 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/10/">October 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/09/">September 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/08/">August 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/07/">July 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/06/">June 2016</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/05/">May 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/04/">April 2016</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/03/">March 2016</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/02/">February 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/01/">January 2016</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/12/">December 2015</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/11/">November 2015</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/10/">October 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/09/">September 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/08/">August 2015</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/07/">July 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/06/">June 2015</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/05/">May 2015</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/04/">April 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/03/">March 2015</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/02/">February 2015</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/01/">January 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/12/">December 2014</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/11/">November 2014</a><span class="archive-list-count">19</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/10/">October 2014</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/09/">September 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/08/">August 2014</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/07/">July 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/06/">June 2014</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/05/">May 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/04/">April 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/03/">March 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/02/">February 2014</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/01/">January 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/12/">December 2013</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/11/">November 2013</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/10/">October 2013</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/09/">September 2013</a><span class="archive-list-count">10</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="../carriage-return/">Carriage return</a>
          </li>
        
          <li>
            <a href="../gatsby-netlify-circle-and-cypress/">Gatsby Netlify Circle and Cypress</a>
          </li>
        
          <li>
            <a href="../powerful-cy-task/">Incredibly Powerful cy.task</a>
          </li>
        
          <li>
            <a href="../rolling-for-test/">Rolling for a Test</a>
          </li>
        
          <li>
            <a href="../tested-live-documentation/">Tested live documentation is a thing with MDX, Docz and Cypress</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 Gleb Bahmutov<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
</nav>
    
<script>
  var disqus_shortname = 'betterworldbybettersoftware';
  
  var disqus_url = 'https://glebbahmutov.com/blog/developing-wiseli/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="../fancybox/jquery.fancybox.css">
  <script src="../fancybox/jquery.fancybox.pack.js"></script>


<script src="../js/script.js"></script>

  </div>
  <script src="https://cdn.jsdelivr.net/lodash/4.17.4/lodash.min.js"></script>
<script>
(function centerMainOnAsideScroll () {
  // when aside side bar scrolls outside the view
  // it centers the main content.
  const main = document.querySelector('#main')
  const aside = document.querySelector('aside#sidebar')
  console.assert(main, 'could not get #main')
  console.assert(aside, 'could not get aside')
  // initially the aside sidebar is visible
  let asideVisible = true

  function centerMain () {
    console.log('adding class center-main')
    main.classList.add('center-main')
  }
  function leftMain () {
    main.classList.remove('center-main')
  }

  function callWhenAsideScrollsUp (becameInvisible, becameVisible) {
    return function () {
      const border = 50
      const rect = aside.getBoundingClientRect()
      if (asideVisible && rect.bottom < -border) {
        asideVisible = false
        becameInvisible()
      }

      if (!asideVisible && window.scrollY < border) {
        asideVisible = true
        becameVisible()
      }
    }
  }
  const throttleWaitMs = 250
  const onScroll = _.throttle(
    callWhenAsideScrollsUp(centerMain, leftMain),
    throttleWaitMs
  )
  window.addEventListener('scroll', onScroll)
}())
</script>

</body>
</html>
