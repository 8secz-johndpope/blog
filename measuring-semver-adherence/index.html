<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Measuring semver adherence | Better world by better software</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Semantic versioning replaces a single software version with a major.minor.patch triple.  major is incremented when there are API breaking changes minor is incremented when a new feature is added witho">
<meta name="keywords" content="nodejs,advice,modular development">
<meta property="og:type" content="article">
<meta property="og:title" content="Measuring semver adherence">
<meta property="og:url" content="https://glebbahmutov.com/blog/measuring-semver-adherence/index.html">
<meta property="og:site_name" content="Better world by better software">
<meta property="og:description" content="Semantic versioning replaces a single software version with a major.minor.patch triple.  major is incremented when there are API breaking changes minor is incremented when a new feature is added witho">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://raw.githubusercontent.com/bahmutov/talks/master/images/next-update-table.png">
<meta property="og:image" content="https://raw.githubusercontent.com/bahmutov/talks/master/images/next-update-pairs.png">
<meta property="og:image" content="https://raw.githubusercontent.com/bahmutov/talks/master/images/check-types-semver-adherence.png">
<meta property="og:updated_time" content="2018-02-14T02:33:26.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Measuring semver adherence">
<meta name="twitter:description" content="Semantic versioning replaces a single software version with a major.minor.patch triple.  major is incremented when there are API breaking changes minor is incremented when a new feature is added witho">
<meta name="twitter:image" content="https://raw.githubusercontent.com/bahmutov/talks/master/images/next-update-table.png">
<meta name="twitter:creator" content="@bahmutov">
  
    <link rel="alternative" href="/blog/atom.xml" title="Better world by better software" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="../css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-59999353-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <!-- <div id="banner"></div> -->
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="../index.html" id="logo">Better world by better software</a>
      </h1>
      <!--
      
        <h2 id="subtitle-wrap">
          <a href="../index.html" id="subtitle">Gleb Bahmutov PhD</a>
        </h2>
      
      -->
      <!-- <span class="no-mobile">Software advice from</span> -->
      <h2 id="subtitle-wrap">
        <span class="subtitle">
          <a id="subtitle" href="http://glebbahmutov.com">Gleb Bahmutov PhD</a>
        </span>
      </h2>
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
      </nav>
      <nav id="sub-nav">
        <a id="nav-house-link" class="nav-icon" href="/" title="Home"></a>
        
          <a id="nav-rss-link" class="nav-icon" href="/blog/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://glebbahmutov.com/blog"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-measuring-semver-adherence" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="" class="article-date">
  <time datetime="2014-11-23T01:00:00.000Z" itemprop="datePublished">Nov 22 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="../categories/process/">process</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Measuring semver adherence
    </h1>

    <h2 class="article-title" itemprop="name">
      Measuring how close a library follows semver semantics when publishing new releases.
    </h2>

  


      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="(http://semver.org/)">Semantic versioning</a> replaces a single software version with a <em>major.minor.patch</em> triple.</p>
<ul>
<li><strong>major</strong> is incremented when there are API breaking changes</li>
<li><strong>minor</strong> is incremented when a new feature is added without breaking existing API users</li>
<li><strong>patch</strong> is a bug fix</li>
</ul>
<p>If we think about a library&#39;s user, semver means</p>
<ul>
<li><strong>major</strong> - possible API break, we cannot upgrade without changing our code.</li>
<li><strong>minor</strong> - there is new feature in the package, but my stuff should still work.</li>
<li><strong>patch</strong> - there is a bug fix, the API stays the same, my code should work without changes.</li>
</ul>
<p>There is an excellent <a href="https://nodesource.com/blog/semver-a-primer" target="_blank" rel="noopener">introduction to semver</a> that you should read.</p>
<p>This implicit contract is not enforceable - the library&#39;s author increments the numbers.
Different developers approach the problem with different attitudes. For example, 
<a href="http://underscorejs.org/" target="_blank" rel="noopener">underscore</a> 
does NOT follow semantic versioning, while its fork <a href="https://lodash.com/" target="_blank" rel="noopener">lodash</a>
does. There is a <a href="https://github.com/jashkenas/underscore/issues/1684" target="_blank" rel="noopener">long argument</a> 
between the two developer camps. In essense, I agree that</p>
<ul>
<li>Following semver is a good thing.</li>
<li>It shows long range planning and caring about your users.</li>
</ul>
<p>Unfortunately, <a href="http://npmbynumbers.bocoup.com/breakdown/versions" target="_blank" rel="noopener">great majority</a> of public modules on NPM registry either do not follow semver,
or still have major version <code>0</code>, meaning API can be broken at any time.</p>
<p>If I am looking for a 3rd party library on <a href="https://www.npmjs.org/" target="_blank" rel="noopener">NPM registry</a> and I see several choices,
a library that follows semver is more appealing to me.</p>
<h2><span id="testing-each-version-before-updating">Testing each version before updating</span></h2><p>How can I tell if a library <em>really</em> follows semver and not just claims to do so?
The only way I see is for every user of the library is to test if it works with different versions
of the library in isolation. Run a project with version <code>x.y.z</code>, then install and run the project
with <code>x.y.z+1</code>. If your project works without problems, then this particular patch increment
follows semver principles. Perform the same over all patch and minor releases, and if nothing
breaks - then library adheres to the semver closely.</p>
<p>I have already released a tool to make testing a project against different versions of any dependency
a snap - <a href="https://github.com/bahmutov/next-update" target="_blank" rel="noopener">next-update</a>. It works for NPM and bower modules
by installing each available version of every dependency and running your project&#39;s unit tests.
For example, if my project declared the following dependencies</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">"dependencies": &#123;</span><br><span class="line">    "lodash": "~1.2.0",</span><br><span class="line">    "async": "~0.2.5"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>and lodash and async release new versions, next-update can test each release to see if it breaks your unit tests</p>
<pre><code>next updates:
lodash
    1.2.1 PASS
async
    0.2.6 PASS
    0.2.7 PASS
    0.2.8 PASS
</code></pre><p>Finally, next-update tells you which dependencies can be installed safely</p>
<pre><code>npm install --save lodash@2.1.0 async@0.2.8
</code></pre><h2><span id="example">Example</span></h2><p>Let us write a simple program that uses first public release of lodash@0.1.0</p>
<figure class="highlight js"><figcaption><span>index.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> _ = <span class="built_in">require</span>(<span class="string">'lodash'</span>);</span><br><span class="line"><span class="keyword">var</span> result = _.difference([<span class="string">'foo'</span>, <span class="string">'bar'</span>], [<span class="string">'foo'</span>]);</span><br><span class="line"><span class="comment">// ['bar']</span></span><br><span class="line"><span class="built_in">console</span>.assert(_.isEqual(result, [<span class="string">'bar'</span>]));</span><br></pre></td></tr></table></figure>
<p>Our test command will be <code>node index.js</code>. We can check every available version of lodash against this program</p>
<pre><code>next-update --latest false // check every version, not just latest
next updates:
lodash 0.2.0, 0.2.1, ..., 2.4.0, 2.4.1
Use the following command to install working versions
npm install --save lodash@2.4.1
</code></pre><p>So both <code>_.difference</code> and <code>_.isEqual</code> work for this particular test case across all lodash versions.</p>
<p>What if we write another small program using a feature available in lodash@0.1.0?</p>
<figure class="highlight js"><figcaption><span>index.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> _ = <span class="built_in">require</span>(<span class="string">'lodash'</span>);</span><br><span class="line"><span class="keyword">var</span> result = _.intersect([<span class="string">'foo'</span>, <span class="string">'bar'</span>], [<span class="string">'foo'</span>]);</span><br><span class="line"><span class="comment">// ['foo']</span></span><br><span class="line"><span class="built_in">console</span>.assert(_.isEqual(result, [<span class="string">'foo'</span>]));</span><br></pre></td></tr></table></figure>
<p>We run the same <code>next-update</code> command but get a very different result</p>
<pre><code>next-update --latest false
testing lodash@0.2.0
lodash@0.2.0 works
testing lodash@0.2.1
npm test returned 1
test errors:
/index.js:2
var result = _.intersect([&apos;foo&apos;, &apos;bar&apos;], [&apos;foo&apos;]);
TypeError: Object function lodash(value) {
    // allow invoking `lodash` without the `new` operator
    return new LoDash(value);
  } has no method &apos;intersect&apos;
</code></pre><p><a href="https://github.com/lodash/lodash/wiki/Changelog#v021" target="_blank" rel="noopener">lodash@0.2.1</a> removed <code>_.intersect</code> alias to
<code>_.intersection</code> method, thus my second example can upgrade to lodash@0.2.0 but nothing after that.
If we use the original method <code>_.intersection</code> then all versions of lodash work fine.</p>
<p>This small example shows that even when the library&#39;s author tries to follow semver very closely,
small mistakes can crop up (removing an existing public method in a patch release is an API-breaking change).</p>
<h2><span id="collecting-test-data-across-all-users">Collecting test data across all users</span></h2><p>While testing your project over and over against different dependencies, next-update sends anonymous statistics
to my server application running on heroku. Only thedependency name, the <em>from</em> and <em>to</em> version 
and the test result are sent.</p>
<p>For example if your project already uses lodash@0.1.2 and next-update successfully tested lodash@1.2.1, 
then it will send</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"lodash"</span></span><br><span class="line">    <span class="string">"from"</span>: <span class="string">"1.2.0"</span>,</span><br><span class="line">    <span class="attr">"to"</span>: <span class="string">"1.2.1"</span>,</span><br><span class="line">    <span class="attr">"status"</span>: <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>You project might use only a small set of features from lodash@1.2.0, but taken across multiple users, you can get
a more complete data for lodash@1.2.0 vs lodash@1.2.1 (you can see this data at 
<a href="http://next-update.herokuapp.com/" target="_blank" rel="noopener">http://next-update.herokuapp.com/</a>). 
If all or almost all projects dependent on the lodash  successfully upgrade, then lodash follows semver at 1.2.1.
Integrate this information across every minor and patch release and you can see how well it adheres to semver 
in general.</p>
<h2><span id="computing-semver-adherence">Computing semver adherence</span></h2><p>If we take every update success status for a particular library together, we get an upper diagonal matrix,
as shown below for <a href="https://github.com/philbooth/check-types.js" target="_blank" rel="noopener">check-types.js</a>.</p>
<p><img src="https://raw.githubusercontent.com/bahmutov/talks/master/images/next-update-table.png" alt="next update table"></p>
<p>Each table row reflects the same starting version. Every column shows success when upgrading from the starting
version to this particular version. The bottom triangle of cells is empty, because we do not test
downgrading libraries.</p>
<p>Not every cell is filled, because no one has upgraded this particular combination of from / to versions.
As more people use <code>next-update</code>, the table should fill up and show a more complete picture.</p>
<p>What if we take only the upgrade statistics for each immediately successful pair of versions? 
For example, if we consider only pairs <code>0.2.0</code> to <code>0.2.1</code>, <code>0.2.1</code> to <code>0.2.2</code>, <code>0.3.1</code> to <code>0.4.0</code>, etc? 
The update success information about every pair of releases might not be available yet, 
so let us only consider the pairs with existing information. We get the following numbers, highlighted in red</p>
<p><img src="https://raw.githubusercontent.com/bahmutov/talks/master/images/next-update-pairs.png" alt="next update pairs"></p>
<p>In this case, let us look at the numbers plus the type of the change signalled by the semver triple</p>
<pre><code>type      from     to      successful %
patch     0.2.0   0.2.1        100
patch     0.4.0   0.4.1        100
patch     0.6.0   0.6.1        100 
patch     0.6.4   0.6.5        100
minor     0.6.5   0.7.0        100
major     0.8.1   1.0.0          0
minor     1.0.0   1.1.0        100
patch     1.1.0   1.1.1         94
minor     1.1.1   1.2.0        100
patch     1.2.0   1.2.1        100
minor     1.2.1   1.3.0        100
patch     1.3.0   1.3.1        100
patch     1.3.1   1.3.2        100
minor     1.3.2   1.4.0        100
</code></pre><p>check-types.js adheres to semver principles very closely. It never broke its users when upgrading its minor or
patch numbers, aside from 6% during patch upgrade from <code>1.1.0</code> to <code>1.1.1</code>. All dependent projects were broken
when the library released the new major version 1.0.0, but this is allowed by the semver principles.</p>
<p>We can take average number of successful pair updates from the above table, but I think this unnecessarily penalizes
projects that have not stabilized until later versions. 
Instead I prefer to chart this information using <a href="http://www.highcharts.com/" target="_blank" rel="noopener">highcharts</a> to preserve the historical trend.</p>
<p><img src="https://raw.githubusercontent.com/bahmutov/talks/master/images/check-types-semver-adherence.png" alt="check-types semver"></p>
<p>This shows how small the quality dip was in <code>1.1.1</code> patch release.</p>
<p>You can grab the original data for each library from next-update-stats API endpoint</p>
<pre><code>http://next-update.herokuapp.com/package/&lt;name&gt;
</code></pre><h2><span id="conclusion">Conclusion</span></h2><p>Following the semver principles makes upgrading a library predictable. This project uses anonymous
upgrade stats to compute a full historical picture of a module, helping other developers decide if the
library is reliable.</p>
<h2><span id="related">Related</span></h2><ul>
<li><a href="../do-not-break-dependant-modules/">dont-break</a></li>
</ul>
<h2><span id="update">Update</span></h2><p>A comment below brought to my attention the unfairness of punishing lodash for breaking its public API
below <code>1.0.0</code> release. While I agree that this is one of the semantic version principles as listed
at <a href="(http://semver.org/)">semver.org</a>, I strongly disagree with this principle in practice. A lot of very important tools
in NPM ecosystem never reach &quot;stable&quot; <code>1.0.0</code> release. Think <a href="http://gruntjs.com/" target="_blank" rel="noopener">grunt</a> (the current stable release
has version 0.4.5) or even Node itself (0.10.x). With this in mind, I think the boundary between
the development period (&lt; 1.0.0) and stable support (&gt;= 1.0.0) is arbitrary. I would rather see
every package start with version of API tagged <code>1.0.0</code> and reach <code>100.*.*</code>!</p>

      
    </div>

    
      <footer class="article-footer personal-links">
  Follow Gleb Bahmutov <a href="https://twitter.com/bahmutov">@bahmutov</a>,
  see his projects at <a href="http://glebbahmutov.com">glebbahmutov.com</a>
</footer>
<script src="https://rawgit.com/toddmotto/linkjuice/702066a37124081e7ad1a972844a9a91115be05a/dist/linkjuice.js"></script>
<script>
function contentFn (node, icon) {
  const s = '<a href="#' + node.id + '" class="linkjuice">' +
    node.innerHTML + ' ' + icon + '</a>\n'
  return s
}
linkjuice.init('.article-entry', {
  selectors: ['h2 span'],
  icon: '<span class="link-symbol">#</span>',
  contentFn: contentFn
});
</script>

    

    <footer class="article-footer">
      <a data-url="https://glebbahmutov.com/blog/measuring-semver-adherence/" data-id="cjgkuytfo00hwoloo0iruhula" class="article-share-link">Share</a>
      
        <a href="https://glebbahmutov.com/blog/measuring-semver-adherence/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/advice/">advice</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/modular-development/">modular development</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/nodejs/">nodejs</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="../my-story-presentations/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          My story presentations
        
      </div>
    </a>
  
  
    <a href="../immutable-javascript-example/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Immutable JavaScript example</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

</section>
        
          <aside id="sidebar">
  
    <style>
#carbonads {
  display: block;
  overflow: hidden;
  font-size: 11px;
  font-family: Verdana, "Helvetica Neue", Helvetica, sans-serif;
  line-height: 1.5;
}

#carbonads a {
  color: #258fb8;
  text-decoration: none;
}

#carbonads a:hover {
  text-decoration: underline;
}

#carbonads span {
  position: relative;
  display: block;
  overflow: hidden;
}

.carbon-img {
  float: left;
  margin-right: 1em;
}

.carbon-img img { display: block; }

.carbon-text {
  display: block;
  float: left;
  text-align: left;
  margin-top: 0.5em;
}
@media screen and (min-width: 1024px) {
  .carbon-text {
    max-width: calc(100% - 130px - 1em);
  }
}

.carbon-poweredby {
  /*position: absolute;
  right: 0;
  bottom: 0;*/
  float: right;
  display: block;
  font-size: 11px;
}
</style>
<div class="widget-wrap">
  <div class="widget-title">&nbsp;</div>
  <div class="widget">
    <!-- Carbon Ads -->
    <script async type="text/javascript"
      src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=glebbahmutovcom"
      id="_carbonads_js"></script>
  </div>
</div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="../categories/book-review/">book review</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/people/">people</a><span class="category-list-count">17</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/process/">process</a><span class="category-list-count">102</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/products/">products</a><span class="category-list-count">281</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="../tags/QUnit/">QUnit</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/advice/">advice</a><span class="tag-list-count">98</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/angularjs/">angularjs</a><span class="tag-list-count">58</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/angularjs2/">angularjs2</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/assertions/">assertions</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ast/">ast</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/boilerplate/">boilerplate</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/browser/">browser</a><span class="tag-list-count">18</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ci/">ci</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/concurrency/">concurrency</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/cyclejs/">cyclejs</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/cypress/">cypress</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/d3/">d3</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/db/">db</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/docker/">docker</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/es6/">es6</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/es7/">es7</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/functional/">functional</a><span class="tag-list-count">67</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/generators/">generators</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/git/">git</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/grunt/">grunt</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/gulp/">gulp</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/hyperapp/">hyperapp</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/immutable/">immutable</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/interview/">interview</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/jade/">jade</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/javascript/">javascript</a><span class="tag-list-count">160</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/jshint/">jshint</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/modular-development/">modular development</a><span class="tag-list-count">27</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/nodejs/">nodejs</a><span class="tag-list-count">71</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/performance/">performance</a><span class="tag-list-count">17</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/presentation/">presentation</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/promises/">promises</a><span class="tag-list-count">31</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/proposal/">proposal</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ramda/">ramda</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/reactive/">reactive</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/reactjs/">reactjs</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/screencast/">screencast</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/security/">security</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/sentry/">sentry</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/service-workers/">service workers</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/testing/">testing</a><span class="tag-list-count">73</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/tutorial/">tutorial</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/typescript/">typescript</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ui/">ui</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/vuejs/">vuejs</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/web-workers/">web workers</a><span class="tag-list-count">6</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="../tags/QUnit/" style="font-size: 11.74px;">QUnit</a> <a href="../tags/advice/" style="font-size: 19.57px;">advice</a> <a href="../tags/angularjs/" style="font-size: 17.83px;">angularjs</a> <a href="../tags/angularjs2/" style="font-size: 10px;">angularjs2</a> <a href="../tags/assertions/" style="font-size: 13.48px;">assertions</a> <a href="../tags/ast/" style="font-size: 13.04px;">ast</a> <a href="../tags/boilerplate/" style="font-size: 15.65px;">boilerplate</a> <a href="../tags/browser/" style="font-size: 16.52px;">browser</a> <a href="../tags/ci/" style="font-size: 12.61px;">ci</a> <a href="../tags/concurrency/" style="font-size: 10px;">concurrency</a> <a href="../tags/cyclejs/" style="font-size: 12.61px;">cyclejs</a> <a href="../tags/cypress/" style="font-size: 14.35px;">cypress</a> <a href="../tags/d3/" style="font-size: 10.87px;">d3</a> <a href="../tags/db/" style="font-size: 14.35px;">db</a> <a href="../tags/docker/" style="font-size: 13.48px;">docker</a> <a href="../tags/es6/" style="font-size: 15.22px;">es6</a> <a href="../tags/es7/" style="font-size: 10px;">es7</a> <a href="../tags/functional/" style="font-size: 18.26px;">functional</a> <a href="../tags/generators/" style="font-size: 11.74px;">generators</a> <a href="../tags/git/" style="font-size: 14.35px;">git</a> <a href="../tags/grunt/" style="font-size: 12.61px;">grunt</a> <a href="../tags/gulp/" style="font-size: 10.87px;">gulp</a> <a href="../tags/hyperapp/" style="font-size: 11.74px;">hyperapp</a> <a href="../tags/immutable/" style="font-size: 11.3px;">immutable</a> <a href="../tags/interview/" style="font-size: 10.87px;">interview</a> <a href="../tags/jade/" style="font-size: 11.3px;">jade</a> <a href="../tags/javascript/" style="font-size: 20px;">javascript</a> <a href="../tags/jshint/" style="font-size: 10.87px;">jshint</a> <a href="../tags/modular-development/" style="font-size: 16.96px;">modular development</a> <a href="../tags/nodejs/" style="font-size: 18.7px;">nodejs</a> <a href="../tags/performance/" style="font-size: 16.09px;">performance</a> <a href="../tags/presentation/" style="font-size: 11.3px;">presentation</a> <a href="../tags/promises/" style="font-size: 17.39px;">promises</a> <a href="../tags/proposal/" style="font-size: 10.43px;">proposal</a> <a href="../tags/ramda/" style="font-size: 10px;">ramda</a> <a href="../tags/reactive/" style="font-size: 14.78px;">reactive</a> <a href="../tags/reactjs/" style="font-size: 10.43px;">reactjs</a> <a href="../tags/screencast/" style="font-size: 10px;">screencast</a> <a href="../tags/security/" style="font-size: 12.61px;">security</a> <a href="../tags/sentry/" style="font-size: 13.91px;">sentry</a> <a href="../tags/service-workers/" style="font-size: 12.17px;">service workers</a> <a href="../tags/testing/" style="font-size: 19.13px;">testing</a> <a href="../tags/tutorial/" style="font-size: 13.04px;">tutorial</a> <a href="../tags/typescript/" style="font-size: 10.43px;">typescript</a> <a href="../tags/ui/" style="font-size: 10.43px;">ui</a> <a href="../tags/vuejs/" style="font-size: 11.3px;">vuejs</a> <a href="../tags/web-workers/" style="font-size: 12.17px;">web workers</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/04/">April 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/03/">March 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/02/">February 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/01/">January 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/12/">December 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/11/">November 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/09/">September 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/08/">August 2017</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/07/">July 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/06/">June 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/05/">May 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/04/">April 2017</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/03/">March 2017</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/02/">February 2017</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/01/">January 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/12/">December 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/11/">November 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/10/">October 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/09/">September 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/08/">August 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/07/">July 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/06/">June 2016</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/05/">May 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/04/">April 2016</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/03/">March 2016</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/02/">February 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/01/">January 2016</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/12/">December 2015</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/11/">November 2015</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/10/">October 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/09/">September 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/08/">August 2015</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/07/">July 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/06/">June 2015</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/05/">May 2015</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/04/">April 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/03/">March 2015</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/02/">February 2015</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/01/">January 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/12/">December 2014</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/11/">November 2014</a><span class="archive-list-count">19</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/10/">October 2014</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/09/">September 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/08/">August 2014</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/07/">July 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/06/">June 2014</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/05/">May 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/04/">April 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/03/">March 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/02/">February 2014</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/01/">January 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/12/">December 2013</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/11/">November 2013</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/10/">October 2013</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/09/">September 2013</a><span class="archive-list-count">10</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="../trying-out-redis/">Trying Redis</a>
          </li>
        
          <li>
            <a href="../vuepress-conditional-testing/">VuePress and some Cypress end-to-end testing tips</a>
          </li>
        
          <li>
            <a href="../lock-down-sinon-stub/">Lock Down Sinon Stub</a>
          </li>
        
          <li>
            <a href="../how-i-organize-readme/">How I Organize README</a>
          </li>
        
          <li>
            <a href="../renovate-app/">Painless Dependency Upgrades with Renovate App</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 Gleb Bahmutov<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
</nav>
    
<script>
  var disqus_shortname = 'betterworldbybettersoftware';
  
  var disqus_url = 'https://glebbahmutov.com/blog/measuring-semver-adherence/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="../fancybox/jquery.fancybox.css">
  <script src="../fancybox/jquery.fancybox.pack.js"></script>


<script src="../js/script.js"></script>

  </div>
  <script src="https://cdn.jsdelivr.net/lodash/4.17.4/lodash.min.js"></script>
<script>
(function centerMainOnAsideScroll () {
  // when aside side bar scrolls outside the view
  // it centers the main content.
  const main = document.querySelector('#main')
  const aside = document.querySelector('aside#sidebar')
  console.assert(main, 'could not get #main')
  console.assert(aside, 'could not get aside')
  // initially the aside sidebar is visible
  let asideVisible = true

  function centerMain () {
    console.log('adding class center-main')
    main.classList.add('center-main')
  }
  function leftMain () {
    main.classList.remove('center-main')
  }

  function callWhenAsideScrollsUp (becameInvisible, becameVisible) {
    return function () {
      const border = 50
      const rect = aside.getBoundingClientRect()
      if (asideVisible && rect.bottom < -border) {
        asideVisible = false
        becameInvisible()
      }

      if (!asideVisible && window.scrollY < border) {
        asideVisible = true
        becameVisible()
      }
    }
  }
  const throttleWaitMs = 250
  const onScroll = _.throttle(
    callWhenAsideScrollsUp(centerMain, leftMain),
    throttleWaitMs
  )
  window.addEventListener('scroll', onScroll)
}())
</script>

</body>
</html>
